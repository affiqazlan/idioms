<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Purchase ‚Äî Idiom Games Hub (RM5)</title>
  <style>
    :root { --primary:#3498db; --primary-dark:#2980b9; --dark:#2c3e50; --light:#ecf0f1; --gray:#95a5a6; }
    body {
      font-family: system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
      background:#f8f9fa; margin:0; padding:20px; color:#333;
    }
    .container {
      max-width:900px; margin:0 auto; background:#fff;
      padding:24px; border-radius:14px; box-shadow:0 5px 15px rgba(0,0,0,0.1);
    }
    h1 { margin:0 0 8px; color:var(--dark); font-size:1.8rem; }
    .subtitle { color:var(--gray); margin:0 0 20px; }
    .top-tabs { display:flex; gap:10px; flex-wrap:wrap; margin-bottom:15px; }
    .tab-btn {
      background:var(--primary); color:#fff; text-decoration:none;
      padding:8px 14px; border-radius:8px; font-weight:600;
      border:2px solid var(--primary); transition:background .2s;
    }
    .tab-btn:hover { background:var(--primary-dark); border-color:var(--primary-dark); }
    .wrap { display:grid; grid-template-columns:1fr; gap:18px; }
    @media(min-width:880px){ .wrap{ grid-template-columns:1.1fr 1fr; } }
    .panel {
      background:#fff; border:2px solid var(--light);
      border-radius:12px; padding:16px; box-shadow:0 3px 10px rgba(0,0,0,0.06);
    }
    .panel h2 { margin:0 0 8px; color:var(--dark); }
    .small { color:var(--gray); font-size:0.92em; }
    .qr {
      display:flex; align-items:center; justify-content:center;
      border:2px dashed var(--light); border-radius:10px; padding:16px;
      background:#fafafa; margin-top:10px; margin-bottom:10px;
    }
    .qr img { max-width:260px; height:auto; display:block; border-radius:10px; }
    .form-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(240px,1fr)); gap:12px; }
    label { display:block; font-size:0.9em; color:var(--dark); margin-bottom:6px; }
    input, select, textarea {
      width:100%; border:1.6px solid #e4e7eb; border-radius:8px;
      padding:10px 12px; font-size:0.95em; box-sizing:border-box;
    }
    .btn {
      background:var(--primary); border:none; color:#fff; border-radius:8px;
      padding:10px 16px; font-weight:600; cursor:pointer;
      transition:background 0.2s;
    }
    .btn:hover { background:var(--primary-dark); }
    .price-row { display:flex; justify-content:space-between; font-weight:700; margin-top:8px; }
    .alert {
      margin-top:10px; padding:10px 12px; border-radius:8px;
      background:#e9f7ef; color:#2e7d32; border:1px solid #c8e6c9;
      display:none;
    }
    footer { margin-top:20px; color:var(--gray); font-size:0.9em; text-align:center; }
  </style>
</head>
<body>
  <div class="container">
    <h1>üõí Purchase Idiom Games (RM5)</h1>
    <p class="subtitle">Scan the QR code to make your payment, then fill in the form. Your email app will open with all details prefilled ‚Äî just attach your payment receipt before sending.</p>

    <div class="top-tabs">
      <a class="tab-btn" href="idiomhomepage.html">üè† Home</a>
      <a class="tab-btn" href="idiomtestimonies.html">üéì Testimonies</a>
    </div>

    <div class="wrap">
      <!-- Left: QR Panel -->
      <div class="panel">
        <h2>1Ô∏è‚É£ Pay via QR</h2>
        <p class="small">Scan the QR below to pay <b>RM5</b> to Idiom Games Hub.</p>
        <div class="qr">
          <img src="qr_payment.png" alt="QR code for RM5 payment">
        </div>
        <p class="small">Reference format: <b>YourName-Product-Qty</b><br>e.g., <i>Aida-OfflineHTML-2</i></p>
      </div>

      <!-- Right: Form Panel -->
      <div class="panel">
        <h2>2Ô∏è‚É£ Submit Your Order</h2>
        <form id="purchaseForm">
          <div class="form-grid">
            <div>
              <label for="buyerName">Full Name</label>
              <input id="buyerName" type="text" required placeholder="Your name">
            </div>
            <div>
              <label for="buyerEmail">Email</label>
              <input id="buyerEmail" type="email" required placeholder="you@example.com">
            </div>
            <div>
              <label for="product">Product</label>
              <select id="product" required>
                <option value="Offline HTML (ZIP)">Offline HTML (ZIP)</option>
                <option value="SCORM Package">SCORM Package (for LMS)</option>
              </select>
            </div>
            <div>
              <label for="quantity">Quantity</label>
              <input id="quantity" type="number" min="1" value="1" required>
            </div>
            <div>
              <label for="notes">Notes (optional)</label>
              <textarea id="notes" rows="3" placeholder="Any remarks or requests‚Ä¶"></textarea>
            </div>
          </div>
          <div class="price-row">
            <div>Total</div>
            <div>RM <span id="totalPrice">5</span></div>
          </div>
          <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
            <button type="submit" class="btn">Prepare Email</button>
            <span class="small">Attach your receipt manually.</span>
          </div>
          <div id="okMsg" class="alert">Email window opened ‚Äî please attach your receipt before sending.</div>
        </form>
      </div>
    </div>

    <footer>¬© Idiom Games Hub</footer>
  </div>

  <script>
    const PRICE_PER_UNIT = 5;
    const sellerEmail = "youremail@example.com"; // üîπ Replace with your email address

    const qtyEl = document.getElementById('quantity');
    const totalEl = document.getElementById('totalPrice');
    const okMsg = document.getElementById('okMsg');

    qtyEl.addEventListener('input', () => {
      const q = Math.max(1, parseInt(qtyEl.value || '1', 10));
      totalEl.textContent = String(q * PRICE_PER_UNIT);
    });

    document.getElementById('purchaseForm').addEventListener('submit', e => {
      e.preventDefault();

      const name = document.getElementById('buyerName').value.trim();
      const email = document.getElementById('buyerEmail').value.trim();
      const product = document.getElementById('product').value;
      const qty = Math.max(1, parseInt(document.getElementById('quantity').value || '1', 10));
      const notes = (document.getElementById('notes').value || '').trim();
      const total = qty * PRICE_PER_UNIT;

      const subject = encodeURIComponent(`Order: Idiom Game (${product}) x${qty} ‚Äî ${name}`);
      const body = encodeURIComponent(
`Hello,

I would like to purchase:

Name: ${name}
Email: ${email}
Product: ${product}
Quantity: ${qty}
Total: RM ${total}

Notes:
${notes || '-'}

I have made the payment via QR.
Please find the payment receipt attached in this email.

Thank you!`
      );

      // open buyer‚Äôs email app
      window.location.href = `mailto:${sellerEmail}?subject=${subject}&body=${body}`;
      okMsg.style.display = 'block';
    });
  </script>
</body>
</html>
